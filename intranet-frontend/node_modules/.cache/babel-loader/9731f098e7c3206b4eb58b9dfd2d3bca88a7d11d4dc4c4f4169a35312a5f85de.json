{"ast":null,"code":"var _jsxFileName = \"/Users/pouyasadri/Desktop/tp/intranet-frontend/src/pages/UsersPage.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport UserContext from '../context/UserContext';\nimport AuthContext from '../context/AuthContext';\nimport UserCard from '../components/users/UserCard';\nimport UserFilter from '../components/users/UserFilter';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSpinner } from '@fortawesome/free-solid-svg-icons';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UsersPage = () => {\n  _s();\n  const {\n    getUsers,\n    filteredUsers,\n    filterUsers,\n    loading,\n    deleteUser\n  } = useContext(UserContext);\n  const {\n    user\n  } = useContext(AuthContext);\n  const [showConfirmation, setShowConfirmation] = useState(false);\n  const [userToDelete, setUserToDelete] = useState(null);\n  useEffect(() => {\n    getUsers();\n  }, [getUsers]);\n  const handleFilter = filters => {\n    filterUsers(filters);\n  };\n  const handleDeleteClick = userId => {\n    setUserToDelete(userId);\n    setShowConfirmation(true);\n  };\n  const confirmDelete = async () => {\n    if (userToDelete) {\n      await deleteUser(userToDelete);\n      setShowConfirmation(false);\n      setUserToDelete(null);\n      getUsers();\n    }\n  };\n  const cancelDelete = () => {\n    setShowConfirmation(false);\n    setUserToDelete(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"mb-4\",\n      children: \"Nos Collaborateurs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(UserFilter, {\n      onFilter: handleFilter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-5\",\n      children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faSpinner,\n        spin: true,\n        size: \"3x\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-3\",\n        children: \"Chargement des collaborateurs...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: filteredUsers.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-info\",\n        children: \"Aucun collaborateur trouv\\xE9 pour ces crit\\xE8res.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4\",\n        children: filteredUsers.map(user => /*#__PURE__*/_jsxDEV(UserCard, {\n          user: user,\n          onDelete: handleDeleteClick\n        }, user._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 33\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }, this)\n    }, void 0, false), showConfirmation && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal fade show\",\n      style: {\n        display: 'block'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-dialog\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"modal-title\",\n              children: \"Confirmation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-close\",\n              onClick: cancelDelete\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\xCAtes-vous s\\xFBr de vouloir supprimer ce collaborateur ?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: \"Cette action est irr\\xE9versible.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              onClick: cancelDelete,\n              children: \"Annuler\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-danger\",\n              onClick: confirmDelete,\n              children: \"Supprimer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-backdrop fade show\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n_s(UsersPage, \"7Mf1cRKrX7iH4QqjSkfS9Eptt4c=\");\n_c = UsersPage;\nexport default UsersPage;\nvar _c;\n$RefreshReg$(_c, \"UsersPage\");","map":{"version":3,"names":["React","useContext","useEffect","useState","UserContext","AuthContext","UserCard","UserFilter","FontAwesomeIcon","faSpinner","jsxDEV","_jsxDEV","Fragment","_Fragment","UsersPage","_s","getUsers","filteredUsers","filterUsers","loading","deleteUser","user","showConfirmation","setShowConfirmation","userToDelete","setUserToDelete","handleFilter","filters","handleDeleteClick","userId","confirmDelete","cancelDelete","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onFilter","icon","spin","size","length","map","onDelete","_id","style","display","type","onClick","_c","$RefreshReg$"],"sources":["/Users/pouyasadri/Desktop/tp/intranet-frontend/src/pages/UsersPage.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport UserContext from '../context/UserContext';\nimport AuthContext from '../context/AuthContext';\nimport UserCard from '../components/users/UserCard';\nimport UserFilter from '../components/users/UserFilter';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSpinner } from '@fortawesome/free-solid-svg-icons';\n\nconst UsersPage = () => {\n    const { getUsers, filteredUsers, filterUsers, loading, deleteUser } = useContext(UserContext);\n    const { user } = useContext(AuthContext);\n    const [showConfirmation, setShowConfirmation] = useState(false);\n    const [userToDelete, setUserToDelete] = useState(null);\n\n    useEffect(() => {\n        getUsers();\n    }, [getUsers]);\n\n    const handleFilter = (filters) => {\n        filterUsers(filters);\n    };\n\n    const handleDeleteClick = (userId) => {\n        setUserToDelete(userId);\n        setShowConfirmation(true);\n    };\n\n    const confirmDelete = async () => {\n        if (userToDelete) {\n            await deleteUser(userToDelete);\n            setShowConfirmation(false);\n            setUserToDelete(null);\n            getUsers();\n        }\n    };\n\n    const cancelDelete = () => {\n        setShowConfirmation(false);\n        setUserToDelete(null);\n    };\n\n    return (\n        <div className=\"container mt-5\">\n            <h2 className=\"mb-4\">Nos Collaborateurs</h2>\n\n            <UserFilter onFilter={handleFilter} />\n\n            {loading ? (\n                <div className=\"text-center py-5\">\n                    <FontAwesomeIcon icon={faSpinner} spin size=\"3x\" />\n                    <p className=\"mt-3\">Chargement des collaborateurs...</p>\n                </div>\n            ) : (\n                <>\n                    {filteredUsers.length === 0 ? (\n                        <div className=\"alert alert-info\">\n                            Aucun collaborateur trouvé pour ces critères.\n                        </div>\n                    ) : (\n                        <div className=\"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4\">\n                            {filteredUsers.map((user) => (\n                                <UserCard\n                                    key={user._id}\n                                    user={user}\n                                    onDelete={handleDeleteClick}\n                                />\n                            ))}\n                        </div>\n                    )}\n                </>\n            )}\n\n            {/* Confirmation Modal */}\n            {showConfirmation && (\n                <div className=\"modal fade show\" style={{ display: 'block' }}>\n                    <div className=\"modal-dialog\">\n                        <div className=\"modal-content\">\n                            <div className=\"modal-header\">\n                                <h5 className=\"modal-title\">Confirmation</h5>\n                                <button\n                                    type=\"button\"\n                                    className=\"btn-close\"\n                                    onClick={cancelDelete}\n                                ></button>\n                            </div>\n                            <div className=\"modal-body\">\n                                <p>Êtes-vous sûr de vouloir supprimer ce collaborateur ?</p>\n                                <p className=\"text-danger\">Cette action est irréversible.</p>\n                            </div>\n                            <div className=\"modal-footer\">\n                                <button\n                                    type=\"button\"\n                                    className=\"btn btn-secondary\"\n                                    onClick={cancelDelete}\n                                >\n                                    Annuler\n                                </button>\n                                <button\n                                    type=\"button\"\n                                    className=\"btn btn-danger\"\n                                    onClick={confirmDelete}\n                                >\n                                    Supprimer\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"modal-backdrop fade show\"></div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default UsersPage;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC9D,OAAOC,WAAW,MAAM,wBAAwB;AAChD,OAAOC,WAAW,MAAM,wBAAwB;AAChD,OAAOC,QAAQ,MAAM,8BAA8B;AACnD,OAAOC,UAAU,MAAM,gCAAgC;AACvD,SAASC,eAAe,QAAQ,gCAAgC;AAChE,SAASC,SAAS,QAAQ,mCAAmC;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE9D,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAM;IAAEC,QAAQ;IAAEC,aAAa;IAAEC,WAAW;IAAEC,OAAO;IAAEC;EAAW,CAAC,GAAGnB,UAAU,CAACG,WAAW,CAAC;EAC7F,MAAM;IAAEiB;EAAK,CAAC,GAAGpB,UAAU,CAACI,WAAW,CAAC;EACxC,MAAM,CAACiB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAACqB,YAAY,EAAEC,eAAe,CAAC,GAAGtB,QAAQ,CAAC,IAAI,CAAC;EAEtDD,SAAS,CAAC,MAAM;IACZc,QAAQ,CAAC,CAAC;EACd,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EAEd,MAAMU,YAAY,GAAIC,OAAO,IAAK;IAC9BT,WAAW,CAACS,OAAO,CAAC;EACxB,CAAC;EAED,MAAMC,iBAAiB,GAAIC,MAAM,IAAK;IAClCJ,eAAe,CAACI,MAAM,CAAC;IACvBN,mBAAmB,CAAC,IAAI,CAAC;EAC7B,CAAC;EAED,MAAMO,aAAa,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAIN,YAAY,EAAE;MACd,MAAMJ,UAAU,CAACI,YAAY,CAAC;MAC9BD,mBAAmB,CAAC,KAAK,CAAC;MAC1BE,eAAe,CAAC,IAAI,CAAC;MACrBT,QAAQ,CAAC,CAAC;IACd;EACJ,CAAC;EAED,MAAMe,YAAY,GAAGA,CAAA,KAAM;IACvBR,mBAAmB,CAAC,KAAK,CAAC;IAC1BE,eAAe,CAAC,IAAI,CAAC;EACzB,CAAC;EAED,oBACId,OAAA;IAAKqB,SAAS,EAAC,gBAAgB;IAAAC,QAAA,gBAC3BtB,OAAA;MAAIqB,SAAS,EAAC,MAAM;MAAAC,QAAA,EAAC;IAAkB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAE5C1B,OAAA,CAACJ,UAAU;MAAC+B,QAAQ,EAAEZ;IAAa;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAErClB,OAAO,gBACJR,OAAA;MAAKqB,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBAC7BtB,OAAA,CAACH,eAAe;QAAC+B,IAAI,EAAE9B,SAAU;QAAC+B,IAAI;QAACC,IAAI,EAAC;MAAI;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACnD1B,OAAA;QAAGqB,SAAS,EAAC,MAAM;QAAAC,QAAA,EAAC;MAAgC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvD,CAAC,gBAEN1B,OAAA,CAAAE,SAAA;MAAAoB,QAAA,EACKhB,aAAa,CAACyB,MAAM,KAAK,CAAC,gBACvB/B,OAAA;QAAKqB,SAAS,EAAC,kBAAkB;QAAAC,QAAA,EAAC;MAElC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,gBAEN1B,OAAA;QAAKqB,SAAS,EAAC,gDAAgD;QAAAC,QAAA,EAC1DhB,aAAa,CAAC0B,GAAG,CAAEtB,IAAI,iBACpBV,OAAA,CAACL,QAAQ;UAELe,IAAI,EAAEA,IAAK;UACXuB,QAAQ,EAAEhB;QAAkB,GAFvBP,IAAI,CAACwB,GAAG;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAGhB,CACJ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD;IACR,gBACH,CACL,EAGAf,gBAAgB,iBACbX,OAAA;MAAKqB,SAAS,EAAC,iBAAiB;MAACc,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAQ,CAAE;MAAAd,QAAA,gBACzDtB,OAAA;QAAKqB,SAAS,EAAC,cAAc;QAAAC,QAAA,eACzBtB,OAAA;UAAKqB,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC1BtB,OAAA;YAAKqB,SAAS,EAAC,cAAc;YAAAC,QAAA,gBACzBtB,OAAA;cAAIqB,SAAS,EAAC,aAAa;cAAAC,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC7C1B,OAAA;cACIqC,IAAI,EAAC,QAAQ;cACbhB,SAAS,EAAC,WAAW;cACrBiB,OAAO,EAAElB;YAAa;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjB,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC,eACN1B,OAAA;YAAKqB,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACvBtB,OAAA;cAAAsB,QAAA,EAAG;YAAqD;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eAC5D1B,OAAA;cAAGqB,SAAS,EAAC,aAAa;cAAAC,QAAA,EAAC;YAA8B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5D,CAAC,eACN1B,OAAA;YAAKqB,SAAS,EAAC,cAAc;YAAAC,QAAA,gBACzBtB,OAAA;cACIqC,IAAI,EAAC,QAAQ;cACbhB,SAAS,EAAC,mBAAmB;cAC7BiB,OAAO,EAAElB,YAAa;cAAAE,QAAA,EACzB;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT1B,OAAA;cACIqC,IAAI,EAAC,QAAQ;cACbhB,SAAS,EAAC,gBAAgB;cAC1BiB,OAAO,EAAEnB,aAAc;cAAAG,QAAA,EAC1B;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eACN1B,OAAA;QAAKqB,SAAS,EAAC;MAA0B;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/C,CACR;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEd,CAAC;AAACtB,EAAA,CAxGID,SAAS;AAAAoC,EAAA,GAATpC,SAAS;AA0Gf,eAAeA,SAAS;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}